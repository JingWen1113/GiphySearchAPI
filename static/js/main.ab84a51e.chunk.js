(this.webpackJsonpgiphy_searchapi=this.webpackJsonpgiphy_searchapi||[]).push([[0],{21:function(e,t,n){e.exports=n(67)},26:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(15),c=n.n(i),o=(n(26),n(3)),s=n.n(o),l=n(4),u=n(16),m=n(17),h=n(20),g=n(19),f=n(5),d=n.n(f),p=function(e){var t=e.setSearchTerm,n=e.onSearchTermSubmit,r=e.refreshTrending,i=e.searchTerm,c=e.handleChange;e.filterSelection,e.gifSize;return a.a.createElement("div",{className:"searchbar",style:{marginTop:"1vh",textAlign:"center"}},a.a.createElement("input",{placeholder:"Search by keywords ",id:"searchTerm",onChange:t,onKeyPress:function(e){"Enter"===e.key&&n(i,c,24)},style:{width:300}}),a.a.createElement("br",null),i&&c&&a.a.createElement("button",{className:"btn-primary",onClick:function(){return n(i,c,24)},style:{width:50,marginTop:5,marginLeft:5,boxShadow:"none",outline:"none",borderRadius:"10px"}},"\ud83d\udd0d"),a.a.createElement("button",{className:"btn-success",style:{width:50,fontSize:16,marginLeft:5,marginTop:5,boxShadow:"none",outline:"none",borderRadius:"10px"},onClick:r},"\u27f3"))},S=n(18),v=n.n(S),T=function(e){var t=e.gifs,n=e.currentTerm,r=e.isLoading,i=e.onScrollEnd,c=e.gifSize;return t&&a.a.createElement("div",{className:"gifs",id:"gifs-grid",style:{textAlign:"center"}},a.a.createElement("p",{style:{fontWeight:"bold"}},n," ",c," gifs. scroll to bottom to show more."),a.a.createElement("div",{className:"gifs-view",id:"gifs-view",style:{backgroundColor:"whitesmoke",overflowY:"scroll",height:"450px",textAlign:"center"},onMouseUp:function(e){return i(e)}},r?a.a.createElement("div",{className:"loader",style:{marginTop:150}},a.a.createElement(v.a,null)):a.a.createElement("div",{className:"gifs-inner"},t.map((function(e){return e.embed_url&&a.a.createElement("iframe",{src:e.embed_url,alt:"...",className:"img-thumbnail",key:e.id,style:{width:350,height:150,border:"none",backgroundColor:"whitesmoke"},title:e.id})})))))},b=function(e){var t=e.filterSelection,n=e.handleChange;return a.a.createElement("div",null,a.a.createElement("select",{value:t,onChange:n},a.a.createElement("option",{value:"relevant"},"Relevant"),a.a.createElement("option",{value:"recent"},"Recent")))},y="CrttO3jUNbjZm6l442VFCXjvB7ZmmNq6",w=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={gifs:null,searchTerm:null,currentTerm:null,gifSort:null,gifFilter:null,filterSelection:"relevant",isLoading:!1,gifSize:24},e.componentDidMount=Object(l.a)(s.a.mark((function t(){var n,r,a,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.gifs,a=n.gifSize,i=localStorage.getItem("gifs-arr"),e.setState({isLoading:!0}),null===r&&(i?e.setState({gifs:JSON.parse(i),currentTerm:"trending",isLoading:!1}):e.refreshTrending(a));case 4:case"end":return t.stop()}}),t)}))),e.refreshTrending=function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0}),d.a.get("https://api.giphy.com/v1/gifs/trending?api_key=".concat(y,"&limit=").concat(n)).then(function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("gifs-arr",JSON.stringify(n.data.data)),e.setState({gifs:n.data.data,currentTerm:"trending",isLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setSearchTerm=function(t){e.setState({searchTerm:t.target.value})},e.handleChange=function(t){var n=e.state,r=n.searchTerm,a=n.filterSelection,i=n.gifSize;if(e.setState({filterSelection:t.target.value}),a)return e.onSearchTermSubmit(r,a,i>0?i:24)},e.onSearchTermSubmit=function(){var t=Object(l.a)(s.a.mark((function t(n,r,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0}),d.a.get("https://api.giphy.com/v1/gifs/search?api_key=".concat(y,"&q=").concat(n,"&sort=").concat(r,"&limit=").concat(a)).then((function(t){e.setState({gifs:t.data.data,currentTerm:n,isLoading:!1,gifSize:a})}));case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.onScrollEnd=function(t){var n=t.target;if(!0===(n.scrollHeight-n.scrollTop===n.clientHeight)){var r=e.state.gifSize+9;return e.setState({gifSize:r}),e.state.searchTerm?e.onSearchTermSubmit(e.state.searchTerm,e.state.filterSelection,r):e.refreshTrending(r)}},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state,t=e.gifs,n=e.currentTerm,r=e.searchTerm,i=e.isLoading,c=e.gifSize,o=e.filterSelection;return a.a.createElement("div",{className:"container"},a.a.createElement(p,{setSearchTerm:this.setSearchTerm,onSearchTermSubmit:this.onSearchTermSubmit,refreshTrending:this.refreshTrending,handleChange:this.handleChange,searchTerm:r,filterSelection:o,gifSize:c}),a.a.createElement(b,{handleChange:this.handleChange,filterSelection:o}),null!==o&&a.a.createElement("p",null,"you picked: "+o),a.a.createElement(T,{gifs:t,currentTerm:n,isLoading:i,onScrollEnd:this.onScrollEnd,gifSize:c}))}}]),n}(r.Component);n(66),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.ab84a51e.chunk.js.map